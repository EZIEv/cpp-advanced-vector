# Advanced Vector

Учебная реализация контейнера `Vector`, аналогичного `std::vector` из стандартной библиотеки C++. Проект демонстрирует навыки работы с ручным управлением памятью, move-семантикой, perfect forwarding и обеспечением гарантий безопасности исключений.

## Особенности реализации

### 1. Управление памятью
- Использование идиомы **RAII** через вспомогательный класс `RawMemory` для управления сырой памятью.
- Разделение этапов выделения памяти (`operator new`) и конструирования объектов (placement `new`).
- Корректное использование `std::uninitialized_*` алгоритмов для работы с неинициализированной памятью.
- Использование `std::destroy_n` и `std::destroy_at` для явного вызова деструкторов.

### 2. Move-семантика и Perfect Forwarding
- Реализация конструктора перемещения и перемещающего оператора присваивания.
- Поддержка методов `EmplaceBack` и `Emplace` с использованием вариативных шаблонов и `std::forward` для конструирования объектов прямо в векторе без создания временных копий.
- Оптимизация операций вставки и переаллокации с использованием перемещения элементов вместо копирования, где это возможно.

### 3. Безопасность исключений (Exception Safety)
- Обеспечение **строгой гарантии безопасности исключений** (Strong Exception Guarantee) для основных операций (`PushBack`, `Insert`, `Reserve`, `Resize`).
- Если при вставке или переаллокации происходит исключение, состояние вектора остается неизменным (как до начала операции).
- Умный выбор стратегии при переаллокации: элементы перемещаются только если их move-конструктор помечен как `noexcept`. В противном случае элементы копируются, чтобы избежать потери данных при возникновении исключения во время перемещения.

### 4. Итераторы
- Поддержка `iterator` и `const_iterator`.
- Методы `begin()`, `end()`, `cbegin()`, `cend()`, что позволяет использовать вектор в range-based циклах `for` и стандартных алгоритмах.

## Основные методы

- `PushBack(T&& value)` / `PushBack(const T& value)` — добавление элемента в конец.
- `EmplaceBack(Args&&... args)` — конструирование элемента в конце.
- `PopBack()` — удаление последнего элемента.
- `Insert(const_iterator pos, ...)` — вставка элемента/элементов в произвольную позицию.
- `Emplace(const_iterator pos, Args&&... args)` — конструирование элемента в произвольной позиции.
- `Erase(const_iterator pos)` — удаление элемента из произвольной позиции.
- `Resize(size_t new_size)` — изменение размера вектора.
- `Reserve(size_t new_capacity)` — резервирование памяти.
- `Swap(Vector& other)` — обмен содержимым двух векторов без копирования.

## Требования

- Компилятор с поддержкой **C++17** и выше.

## Сборка и запуск тестов

В файле `main.cpp` содержатся unit-тесты, проверяющие корректность работы вектора, отсутствие утечек памяти и корректность подсчета конструкторов/деструкторов.

Для сборки и запуска выполните команду в терминале:

```bash
g++ -std=c++17 advanced-vector/main.cpp -o vector_test
./vector_test
```

При успешном прохождении всех тестов программа завершится без ошибок. В конце также запускается небольшой бенчмарк, сравнивающий производительность с `std::vector`.
